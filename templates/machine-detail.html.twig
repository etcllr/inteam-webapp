{% extends 'base.html.twig' %}

{% block body %}
    {{ component('navbar') }}
    <br>
    <div class="container">
        <a class="intervention-button" href="{{ path('create-ticket', {'idMachine': machine.id}) }}">
            <button type="button" class="btn btn-danger">Demander une intervention</button>
        </a>
        <br>
        <div class="machine-info">
            <img src="/build/img/{{ machine.image }}">
            <div class="machine-label">
                <ul>
                    <li><span class="label">Code</span> {{ machine.code }}</li>
                    <li><span class="label">Marque</span> {{ machine.brand }}</li>
                    <li><span class="label">Modèle</span> {{ machine.name }}</li>
                    <li><span class="label">Catégorie</span> {{ machine.category }}</li>
                </ul>
            </div>
        </div>

        <div class="detailsmachine">
            <h3 class="history">Historique des interventions</h3>
            {% for ticket in tickets %}
                {{ component('intervention-row', {
                    id: ticket.id,
                    date: ticket.date,
                    title: ticket.title,
                    description: ticket.description
                }) }}
            {% endfor %}
        </div>
    </div>
{% endblock %}